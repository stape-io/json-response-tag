___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "JSON response",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Sets formatted JSON to the response body.",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "CHECKBOX",
    "name": "inside_array",
    "checkboxText": "Put response object inside the array.",
    "simpleValueType": true
  },
  {
    "type": "CHECKBOX",
    "name": "simple_object",
    "checkboxText": "Do not use dot notation",
    "simpleValueType": true,
    "help": "By default, you can use dot notation to create a nested response object. \nBut in case you need to create a property that contains a dot then you can use this option for that."
  },
  {
    "type": "LABEL",
    "name": "start",
    "displayName": "{"
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "object_data",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "Property",
        "name": "property",
        "type": "TEXT"
      },
      {
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ]
  },
  {
    "type": "LABEL",
    "name": "end",
    "displayName": "}"
  }
]


___SANDBOXED_JS_FOR_SERVER___

const makeTableMap = require('makeTableMap');
const setResponseHeader = require('setResponseHeader');
const setResponseBody = require('setResponseBody');
const JSON = require('JSON');

setResponseHeader('Content-Type', 'application/json');
setResponseBody(JSON.stringify(createObject()));
data.gtmOnSuccess();


function createObject() {
    if (!data.object_data) {
        if (data.inside_array) {
            return [{}];
        }

        return {};
    }

    let object = data.simple_object ? createSimpleObject() : createNestedObject();

    if (data.inside_array) {
        return [object];
    }

    return object;
}

function createSimpleObject() {
    return makeTableMap(data.object_data, 'property', 'value');
}

function createNestedObject() {
    let object = {};

    for (let key in data.object_data) {
        let dotPath = data.object_data[key].property;
        let rootProperty = dotPath.split('.')[0];

        object[rootProperty] = strToObj(dotPath, data.object_data[key].value)[rootProperty];
    }

    return object;
}

function strToObj(dotPath, val) {
    let i, obj = {}, dotArr = dotPath.split('.');
    let x = obj;

    for (i = 0; i < dotArr.length - 1; i++) {
        x = x[dotArr[i]] = {};
    }

    x[dotArr[i]] = val;

    return obj;
}


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_response",
        "versionId": "1"
      },
      "param": [
        {
          "key": "writeResponseAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "writeHeaderAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "writeHeadersAllowed",
          "value": {
            "type": 8,
            "boolean": true
          }
        },
        {
          "key": "writeHeaderWhitelist",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "headerName"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "Content-Type"
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "writeBodyAllowed",
          "value": {
            "type": 8,
            "boolean": true
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 04/10/2021, 21:22:43


